# ---- 교환 시스템 ----
- 교환
    - 회선교환
        - H/W적인 교환
        - 고정 대역 할당(일정)
        - 안정적인 전송률
        - 연결 설정, 해제 필요
        - 대량 데이터 적절
        - 데이터가 계속 존재하지 않으면 불리
    - 메세지 교환
        - 저장, 전달
    - 패킷교환
        - 패킷 단위로 나누어 전송
        - 가변 크기 전송률
        - 종류
            - 가상회선
                - 연결설정, 해제 필요
                - 목적지에 대한 테이블 설정 ---> 관련 테이블만 참조 ---> 전달 시간 짧음
            - 데이터그램
                - 패킷 단위로 교환
                - 목적지를 매번 판단 ---> 전달 시간 긺
                - 짧은 메세지 적절
        - 장점
            - 전송 대역의 효율적인 사용
                - 들어오는 데이터를 한 선로에 실어 보냄
                - 전송대역 공유
            - 호스트 무제한 수용
                - 고정대역 X ---> 무한 수용가능
                - 통계적방법 ---> 과거 데이터 참고
            - 패킷에 우선순위 부여
        - 단점
            - 큰 전송지연
                - 내부 버퍼 보간
                - 기타 큐 관리
                - 연산 과정
            - 패킷별로 전송지연이 가변적으로 발생
                - 지터
                    - 가변 전송지연의 분포
                - 전송지연에 민감한 응용들 ---> 어려움
- 프레임 릴레이
    > 오류 제어 기능 축소 ---> 전송속도 향상
    - 등장배경
        1. 물리적 전송오류 가능성 감소
        2. 전송계층 프로포콜의 과도한 오류제어기능은 낭비
- ATM(asynchronous transfer mode)
    - 셀교환
        - 고정된 크기 패킷 사용
            - H/W 교환 가능
        - 고속 전송
        - 회선 교환과 패킷 교환의 중간 성격
---
---
# ---- 네트워크 분류 ----
- 연결정도에 의한 분류
    - 강한 연결
        - 병렬컴퓨터 내부망
    - 느슨 연결
        - 전산망
- 크기에 의한 분류
    - LAN(local area network)
    - MAN(metropolitan)
    - WAN(wide)
---
### LAN
- Topology
    - 버스형
        - 브로드캐스트 형태 --> 모든 사람이 들을 수 있음
        - 주소로 구별 ---> 해당된 시스템만 해당 패킷 볼 수 있음
        - 양끝단에서 데이터 자동 소멸
    - 링형
        - 링 형태로 연결
        - 시계방향 순서대로 이동
        - 데이터가 계속 순환
- ethernet
    - CSMA/CD 방식(carrier censed multiple access/collision detection)
        - 사용자가 적을 때 유용
        - 보내기 전에 캐리어 확인
            - 내가 보낼 수 있는지
            - 다른 사람이 데이터를 보냈는지
            - 현재 비어있으면 데이터 보내기
        - 다중접속 가능
            - 우연히 2곳이 같이 관찰
            - 선로가 비어있다고 생각하면 2곳 모두 데이터 보냄 
        - 충돌탐지
            - 둘이 동시에 같은 시간에 망을 보고 비어있다고 생각해서 데이터 보냄
            - 충돌발생 ---> 신호 깨짐
            - 충돌 발생하면 취소시킴
- token ring
    - token
        > 누가 데이터 보낼건지에 대한 신호
        - 토큰을 가지고 있어야만 데이터 전송 가능
        - 데이터 보내면 다음 차례에게 토큰 넘김
        - 충돌X 
        - 관리 overhead 큼
            - 토큰 관리 host가 일정 시간 간격을 두고 token이 지나갔는지 등의 여부 확인
            - 일정시간동안 토큰이 오지 않으면 없다고 판단
            - 새로운 토큰 추가
            - 관리 host도 없어진다면? 문제발생
- token bus
---
### MAN
- 도시규모
- DQDB(distributed queue dual bus)
    - 양방향 버스
### WAN
- 국가 이상의 넓은 지역
- 점대점(point-to-point) 환경
- 전송 및 교환 기능 필요
- 각 노드들은 받아서 어디로 보낼지 판단해야 함
---
---
# ---- 인터네트워킹 ----
> 둘 이상의 네트워크를 연결하는 기능
- 네트워크 차이 분석, 전송
- 데이터를 적절히 중계
- 게이트웨이
    - 인터네트워킹(둘만을 묶는 역할)
    - 네트워크 사이에서 적절한 처리하는 경우
- 라우터
    - 경로 설정
- 브리지
    - 목적지 주소가 같은 네트워크에 속하면 동작안함
        - 헤더 해석 후 중계
    - 다른 네트워크일 경우 중계 기능
        - 해셕, 변환 필요
        - LAN1 헤더 해석 후 제거 ---> LAN2 헤더에 붙여 중계
    - 연결되는 LAN 종류만큼 MAC, 물리계층 해석할 수 있어야 함
    - 동작 방식에 따른 분류
        - 트렌스페이트 브리지
            - 송신호스트는 경로를 알 필요가 없고 브리지가 자동 수행
            - 임으의 LAN으로부터 프레임 도착
                - 수신호스트 방향 == 송신호스트 방향 ---> 무시
                - 수신호스트 방향 != 송신호스트 방향 ---> 중계
            - 각 호스트가 어느 방향에 있는지 알아야 함
            - 라우팅테이블
                > LAN이 동작하면서 자동생성
                - 초기화되는 경우
                    - 플러팅 사용
                        - 프레임이 들어온 포트를 제외한 모든 포트로 전달
                    - 역방향 학습
                        - 들어온 프레임의 송신 주소을 바탕으로 특정주소가 어느 포트 뒤에 있는지 학습
                    - 호스트 위치가 변동되는 경우 최근 정보로 수정 필요
            - 스페닝 트리
                > 네트워크 이중경로가 존재하지 않도록 설계
                - 보안문제로 물리적 이중 경로 존재 ---> 논리적 경로를 비순환 형태로 구성
                - 최상위 브리지를 루트로 설정
                - 다른 브리지에 이르는 최단 경로 트리 구성
        - 소스 라우팅 브리지
            - 송신호스트가 수신호스트에 이르는 경로 정보 제공
- 리피터
    - 비트 신호 증폭
- 인터넷 라우팅
    - 고정 경로 배정
        - 영구불변 경로배정
        - 송수신 호스트 사이 트래픽 측정(예측) ---> 적절히 배정 필요
        - 장점
            - 간단한 구현
            - 효과적인 경로 설정 가능
        - 단점
            - 전송 경로 고정 ----> 트래픽 변화에 따른 동적 경로 배정 불가
    - 적응 경로배정
        - 인터넷 연결 상태를 전달경로에 반영
            - 특정 네트워크, 라우터 비정상일 경우
            - 네트워크 특정 위치에서 혼잡 발생한 경우
        - 단점
            - 경로 결정 과정 복잡 ---> 라우터 부담 증가
            - 네트워크 변화를 모든 라우터에 동시 반영불가 ---> 정보 불일치 발생
    - 자율 시스템
        > 하나의 관리영역 내에 존재
        - 다수 라우터
        - 공통 라우팅 프로토콜 사용
            - 자율 시스템 내부 
                - RIP(routing information protocol)
                - OSPF(open shortest path first)
            - 자율 시스템간
                - BGP(border gateway protocol)
        - 동일한 라우팅 특성에 의해 동작하는 논리적인 단일 구성체
---
---
# ---- 서비스 품질(QOS) ----
- 네트워크 품질
    - 데이터 전송의 신뢰성
    - 데이터 분실, 지연, 지연값의 일관성 등으로 판단
    - 다양한 서비스 ---> 한마디로 규정 어려움
    - 요소
        - 연결 설정지연
            - request 프리미티브(연결설정)과 confirm 도착 사이의 시간 차이
            - 연결 해제도 동일 기준 적용
        - 연결 설정 실패 확률
            - 임의의 max(연결설정시간) 내에 연결 설정되지 않을 확률
            - 연결 해재도 동일 기준 적용 
        - 전송률
            - 임의의 시간 구간에서 초당 전송할 수 있는 바이트수
            - 양방향이 다를 수 있음
        - 전송지연
            - 송신호스트가 전송한 데이터가 수신 호스트에 도착할 때까지의 시간
        - 전송 오류율
            - 임의의 시간동안 n(오류발생 데이터)/n(전송된 총 데이터수)
        - 우선순위
            - 다른 연결보다 우선해서 처리되는지 여부
- 서비스 등급
    - 좀 더 세부적으로 분류
---
### 인터넷에서의 QOS
- IP 프로토콜에서는 모든 패킷에 동일한 기준을 적용해서 목적지까지 중개
- best-effort
- 도착순서, 데이터 100%수신 보장X ---> 버퍼 필요
- 전송데이터 분류
    - 영상
        - 실시간 전송 필요
        - 오류 관대
    - 일반파일
        - 실시간 전송 관대
        - 오류 민감
- 지원요건
    - 각 패킷을 서로 다른 기준으로 구분 가능
    - 라우텅에서 처리 가능
    - 사용 조건에 따른 패킷 구분, 자원할당