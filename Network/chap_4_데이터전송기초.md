# ---- 데이터 전송방식 ----
- 네트워크 효과
    - 자원공유
    - 병렬 처리에 의한 성능향상
    - 중복 저장으로 신뢰성 향상
        - 가용성 향상
        - 일관성 문제 발생
        - 데이터 갱신 비용 발생
- 전달
    - 교환 + 전송
        - 교환
            - 둘 이상의 경로 중 어느방향으로 전달할 지 선택
        - 전송
            - 물리적으로 1:1 연결된 시스템 사이의 데이터 전송
- 전송방식 종류
    - 지리적 분포
        - LAN
        - MAN
        - WAN
    - 전송 교환기술에 의한 분류
        - 점대점(point-to-point)
            - 호스트들이 물리적으로 1:1형식으로 연결
            - 교환 호스트가 송수신 호스트 중간에 위치
            - 직접 연결하거나 중계기능을 통해 전달
            - 연결 개수 증가 ---> 성능 우수 ---> 매체 길이 증가 ---> 비용증가
            - 연결 개수 감소 ---> 네트워크 혼잡도 증가
            - 형상 종류
                - 스타형
                    - 중앙에 하나의 중개 호스트 주위로 여러 호스트 연결
                    - 중앙 호스트 성능, 신뢰성 중요
                    - 트리형
                - 링형
                    - 호스트 연결 순환구조
                    - 모든 호스트가 전송, 교환 
                    - 한방향으로만 전송
                    - 토큰
                        - 데이터 전송 권리
                        - 데이터 전송을 원하는 호스트는 미리 토큰을 확보해야함
                        - 데이터 전송이 완료되면 호스트는 토큰 반납
                        - 데이터를 전송하는 호스트가 없으면 하나의 토큰만이 링을 순환
                    - 데이터 전송원리
                        1. 토큰을 링에서 회수, 보관
                        2. 데이터를 링에 전송
                        3. 데이터는 링을 한바퀴 순환 후 다시 송신 호스트에게 돌아옴
                        4. 이 과정에서 연결된 모든 호스트가 데이터 수신
                        5. 자신을 목적지로 하는 호스트만 데이터 보관, 나머지 호스트는 버림
                        6.  송신 호스트는 데이터 회수 후 토큰을 링에 반납
                - 완전형
                    - 네트워크에 존재하는 모든 호스트를 1:1로 연결
                    - 교환 기능 불필요
                    - 극단적으로 비효율적 방식
                - 불규칙형
                    - 트래픽 양 ∝ n(연결)
        - 브로드캐스팅
            - 호스트들이 공유 전송 매체 연결
            - 네트워크에 연결된 모든 호스트들에게 데이터 전달
            - 주로 LAN 환경에서 사용
            - 형태
                - 버스형
                    - 공유버스에 모든 호스트 연결
                    - 둘 이상의 호스트가 데이터 전송 시 충돌 발생
                    - 해결방법
                        - 사전예방
                            - 전송 시간대를 다르게
                            - 토큰 제어방식
                        - 사후해결
                            - 충돌 감지 기능 필요(이더넷)
                - 링형
                    - 호스트를 순환 구조로 연결
                    - 송신 호스트가 전송한 데이터는 링을 한 바퀴 순환 후 송신호스트에 되돌아옴
                    - 수신 호스트로 지정된 호스트만 데이터 저장
                    - 데이터 전송 위해 토큰 확보 필수
- 멀티포인트 통신
    - 유니포인트
        - 송신 호스트:수신호스트 = 1:1
    - 멀티포인트
        - 송신 호스트:수신호스트 = 1:N
    - 유니캐스팅
        - 송신 호스트 1번 전송, 하나의 수신호스트에 전송
    - 멀티캐스팅
        - 송신 호스트 1번 전송, 다수 수신호스트에 전송
    - 멀티포인트 유니캐스팅
        - 유니캐스팅 방식 이용, 1:N 통신
        - 수신 호스트 수 증가 ---> 성능 문제
---
---
# ---- 오류제어 ----
- 응답 메커니즘
    - 송신 측이 정상적으로 수신하였다는 사실을 알 수 있음
- 타이머
    - 중간에 손실 경우를 알 수 있음
    - 수신측에서는 확인 불가
    - 주어진 시간동안 정상응답 X == 손실
- 제어정보 함께 전송
    - 변형 여부 확인
    - 송신측에서 데이터 변형여부를 판단할 수 있는 제어 정보를 덧붙여 전송
    - 패리티, CRC체크...
- 수신 측에서 데이터 변형 사실을 인지했을 때 대응방법
    - 부정응답
        - 송신측에서 데이터 재전송
        - 빠른 응답
        - 복잡함
            - 수신측에서 부정응답을 만들어내야함
            - 송신측에서 부정응답을 해석해야함
    - 무(無)대응
        - 수신 호스트가 아무 응답도 안하고 대기
        - 데이터 분실과 동일하게 처리
        - 타이머 설정 ---> 송신 호스트 재전송
        - 더 많은 시간 소요
- 정답 응답이 손실되는 경우
    - 송신측
        1. 타임아웃
        2. 데이터 손실로 간주
        3. 데이터 재전송
    - 수신측
        1. 새로 데이터 들어온 것으로 인지(중복수신)
- 데이터 중복 구분방법
    - 순서번호 기록
---
---
# ---- 흐름제어 ----
> 수신호스트가 감당할 수 있는 전송속도를 유지하면서 전송
- 송신측에서 데이터를 보내고 이에 대한 응답을 받아야만 다음 데이터 전송
    - 흐름 제어 불필요
    - 비효율적인 방식
- 송신측에서 보낸 데이터에 대한 응답이 없어도 더 많은 데이터 전송 가능
    - 전송 데이터 속도 조절 필요
- 수신 호스트가 바로 처리가 어려운 경우
    - 버퍼에 저장
        - full --> 데이터 손실, 재전송
- 흐름제어가 없는 경우 ---> 데이터 손실, 재전송
- 다음에 수신할 프레임 전송시점을 송신 호스트에게 통지
- 응답을 받지 않아도 전송할 수 있는 데이터량 통보
    - 송신측에서 데이터량 확인해서 전송
    - 버퍼 full이라 판단되면 대기
- 슬라이딩 윈도우 방식
---
---
# ---- 프레임 ----
- 포함정보
    - 전송데이터
    - 오류 확인을 위한 checksum
    - 송수신호스트 주소
    - 제어코드
- 구분
    - 내부 정보 포현 방식
        - 문자
            - 프레임 내용이 문자로만 구성됨
            - 특수문자
                - 프레임 시작 : DLE/STX
                - 프레임 끝 : DLE/ETX
            - 전송 데이터에 특수 문자 포함시 혼선발생
                - 문자 스터핑
                    - 데이터 DLE가 있으면 강제로 DLE 하나 더 추가
                    - 수신측에서는 두개의 DLE 나오면 뒤에 DLE제거
        - 비트
            - 임의의 비트패턴 전송
            - 시작과 끝을 나타내는 플래그 사용
            - 플래그와 같은 패턴이 등장할 수 있음
                - 비트 스터핑
                    - 1이 연속해서 5개 발생 ----> 강제로 0추가
---
---
# ---- 다항코드 ----
- 오류극복 방법
    - 오류 검출 코드 추가
        - 수신호스트가 오류 검출 후 재전송으로 복구
            - CRC(cycli redundancy check)
        - 수신호스트가 오류 검출, 복구 동시 수행
            - 해밍코드
            - 순방향 오류복구(FEC, forward error control)
- 오류 검출
    - BEC(backward error control)
    - ARQ(automatic repeat request)
    - 패리티
        - 짝수
        - 홀수
    - 블록검사(block sum check)
        - 전체 비트가 복수계로 뒤집히면 패리티로 확인불가
        - 블록검사랑 같이 검사
- 다항코드
    - CRC
    - 생성다항식
        - 다향식에 의해 생성된 것을 데이터에 붙여 전송
    - 체크섬 계산
        - 나눗셈 나머지를 원래 데이터에 붙임
        - 데이터를 비교해서 변형여부 확인