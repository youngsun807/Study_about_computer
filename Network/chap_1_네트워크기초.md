쉽게 배우는 데이터통신과 컴퓨터네트워크(박기현, 한빛미디어, 2010)
# ---- 네트워크 이해 ----
### 네트워크 관련 기초 용어
- 인터넷
    - Internet
        - Internetworking 
        - network 사이들을 묶음
    - internet
        - 우리가 사용하는 네트워크
        - TCP/IP를 기반으로 한 네트워크
        - IP 공통적으로 사용
- 네트워크(망)
    - 전송매체로 서로 연결해 데이터를 교환하는 시스템 모음
    - 전송매체 공유하는 컴퓨터들이 동일한 프로토콜 사용
    - 서로 다른 네트워크 ---> 라우터를 이용하여 연결
- 인터페이스
    - 만나는 접점
    - 시스템과 전송매체의 연결지점에 대한 규칙
- 프로토콜
    - 원래 의미 : 의전절차
    - 시스템이 데이터를 교환할 때 따르는 임의의 통신 규칙
    - 동등한 관계에 있는 시스템 사이 규칙
    - 각 계층 프로토콜이 독립적
    - 주고받는 정보 형식, 과정에서 발생하는 절차들...
- 표준화
    - 서로 다른 시스템들이 상호연동하기 위해 형식(규칙)을 통일하는 것
    - 상호연동
- 시스템
    - 체제/체계
    - 내부 규칙에 따라 능동적으로 동작하는 대상
    - 입력처리를 통한 외부 출력 가능
    - 작은 시스템이 모여 큰 시스템 구성가능
    - 대상
        - 물리적
            - 컴퓨터, 자동차, 하드디스크..
        - 논리적
            - OS, 프로세스
- 인터페이스
    - 시스템과 시스템을 연결하기 위한 표준화된 접근방법
    - 대등한 관계, 상하관계
- 전송매체
    - 시스템끼리 데이터를 전달하기 위한 물리적인 전송수단
    - 광케이블, 공기...
    - 인터페이스에 정해진 규칙은 매체를 통해 전송 ---> 구현, 동작
---
### 시스템 기초용어
- 노드
    - 데이터를 주고 받을 수 있는 모든 시스템
    - 인터넷에 연결된 시스템의 일반적인 용어
- 호스트
    - 컴퓨팅 기능이 있는 시스템
        - 서버, PC
    - 노드의 일종
    - 일반 사용자가 응용 프로그램을 실행할 수 있어 사용자가 네트워크에 접속하는 창구 역할
    - 클라이언트, 서버 둘 다 가능
- 클라이언트
    - 서비스를 요청하는 시스템
- 서버
    - 특정 서비스를 제공하는 시스템
    - 클라이언트보다 먼저 실행 ---> 대기 상태 ---> 요청이 오면 서비스 제공
---
---
# ---- 네트워크 기능 ----
### 계층 모델
- 계층
    - 다른 노드의 같은 계층과의 관계 ---> 프로토콜(PDU,protocol data unit)
    - 같은 노드의 다른 계층과의 관계 ---> 인터페이스
- 서비스(SDU,service data unit)
    - 하위 계층이 상위계층에 제공하는 인터페이스
- **OSI 7계층 모델**
    > Open Source Interconnection
    - network interface 계층(sub network)
        1. 물리계층
            - 노드(호스트)를 전송매체와 연결하기 위한 인터페이스 규칙과 전송매체의 특성을 다룸
            - 물리적, 전기적, 기계적 약속
            - 응축케일블 규격, 신호의 전압...
        2. 데이터 링크 계층
            - 물리적 전송오류(잡음)를 해결
            - 오류 제어
                - 전송 오류 감지 --> 재전송 가능
            - 흐름제어
    - internetwork 계층
        3. 네트워크 계층
            - 주소
            - 호스트 구별, 호스트 사이의 올바른 전송 경로 선택(혼잡 제어 포함)
            - 라우터
                - 들어온 주소를 파악해서 어디 포트로 내보낼지 판단
    - transport 계층
        4. 전송 계층
            - 송수신 프로세스 사이(``종단간, end-to-end``)연결 ---> 다수 중에서 원하는 특정 하나와 연결
            - 안전한 데이터 전송
                - 오류제어
                - 흐름제어
        ```
        데이터계층 제어 vs 전송계층 제어
        - 데이터 계층
            - 직접 묶여있는 두 프로세스 사이 제어
        - 전송 계층
            - 양 끝단의 프로세스 사이 제어
        ```
    - application 계층
        5. 세션 계층
            - ``대화`` 개념을 지원하는 상위의 논리적 연결을 지원
                - 끊어졌다 연결되어도 끊어진 지점 다음부터 진행
            - ``동기화``
        6. 표현 계층
            - 데이터 표현방법
            - 압축
            - 암호화
            - 복호화
        7. 응용 계층
            - 다양한 응용 서비스 지원
```
<각 계층에서 규격화된 데이터 명칭>
1. 데이터 - DPDU(data protocol data unit)
2. 네트워크 - NPDU(network protocol data unit)
3. 전송 - TPDU(transport protocol data unit)
4. 세션 - SPDU
5. 표현 - PPDU
6. 응용 - APDU

<각 계층에서 처리하는 데이터 덩어리>
1. 데이터 - 프레임
2. 네트워크 - 패킷
3. 전송 - 세그먼트(TCP에서 사용), 데이터그램(UDP에서 사용)
```
---
### 인터네트워킹(Internet)
> 네트워크 간의 연결
- 게이트웨이(gateway)
    - 인터네트워킹 기능을 수행하는 시스템
    - OSI 계층 중 ``transport 계층`` 이상 상위계층에서 프로토콜 변환 기능 수행
- 리피터
    - ``물리계층``
    - 전송거리가 멀어지면서 약해진 신호 증폭
    - 전송 도중에 생긴 잡음까지 같이 증폭 ---> 물리적 한계
    - 무한정 리피터 불가
- 브리지(bridge)
    - 논리적으로 분리된 세그먼트 사이에서
        - 같은 프로토콜 이용
            - 동일 세그먼트에 속했는지에 대한 여부를 구분 처리
        - 다른 프로토콜 이용
            - 프로토콜 변환 기능 제공
- 라우터
    - ``물리, 데이터링크, 네트워트 계층`` 기능 제공
    - 경로 선택
    - 라우팅 테이블
---
---
# ---- 네트워크 주소표현 ----
### 식별자
- 특징
    - 유일성
        - 서로 다른 시스템은 같은 식별자를 가질 수 없음
    - 확장성
        - 시스템의 초대 수용 규모 예측
        - 지원할 수 있는 최대 한계 설정
    - 편리성
        - 효율적인 내부 처리 필요
        - 숫자 주소, 문자 이름 사이의 매핑 필요
            - 주소
                - 기계가 처리하기 쉬운 구조
                - 식별자 일종
            - 이름
                - 사용자 편의성을 위해 인간이 기억하기 쉬운 문자열로 구성
                - 일반적인 이름 != 식별자
                - 호스트 이름 == 식별자
                    - 유일한 도메인
                    - 사람이 이해하기 쉽도록 .으로 구분된 레이블들로 구성
                    - 1~63개까지 
                    - 영문자(시작은 반드시 영문자) + 숫자 + 하이픈
                    - 대소문자 구분X
                    - TLD(top level domain)
                        - 3글자 이상의 길이를 갖는 도메인
                        - gov, com, net...
                    - 호스트.단체.단체종류.국가도메인
                        - zebra.korea.co.kr
                        - 국가 도메인
                            - ISO 3166에서 정의한 2글자 국가코드 사용
                        - 단체종류
                            - TLD에 대응하는 종류
                            - co.kr ---> com
                    - '.한국'과 같은 자국어도 가능
    - 정보의 함축
        - 다양한 정보 내포
        - 주민등록번호...
---
### IP 주소
- IPv4 
    - 32비트 주소체계
    - 4개의 십진수 + .
    - IPv6 = 128비트
    - 0.0.0.0 
        - this host
        - 현재 시스템 자신
    - x.y.z.255
        - x.y.z 서브망의 모든 호스트
    - 127.0.0.1
        - 자기 스스로 쏘아서 네트워크 관련 프로토콜 스택이 정상적으로 동작하는 확인하는 용도
        - loopback
- 라우터에서의 경로 선택
    - IP 주소를 기반으로 경로 선택
    - 211.233.201.30 ---> 211.233.201인 네트워크망으로 전달
- 도메인 이름
    - 인간이 지칭하는 호스트 이름
    - korea.co.kr...
- FQDN(full qualified domain name)
    - 도메인 이름 마지막이 .으로 끝남 ---> 완전한 도메인
    - lily가 도메인 ---> lily.korea.ac.kr
- 호스트 파일
    - 호스트 이름과 주소 관리
    - 파일에 해당 정보 보관
    - /etc/hosts...
- DNS
    - DNS != Domain Name Service
    - 웹 브라우저에서 특정 호스트 이름 입력하면 DNS 서비스가 요청되어 일련의 과정 진행
    - 분산 DB시스템
    - 구성요소
        - 네임서버
        - 리졸버
        - 위임(delegation)
- MAC(medium access control)
    - 계층 2(data)에서 사용
    - LAN카드(H/W)에 내장
    - IP 주소를 MAC주소로 변환과정 필요(APR, address resolution protocol)
- 포트번호
    - 전송계층에서 사용
    - 서비스(프로세스) 구분
    - TCP, UDP가 별도로 포트번호 관리
    - UNIX ---> /etc/services에서 확인
