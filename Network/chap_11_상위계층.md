# ---- 세션계층 ----
- 상위계층에 제공하는 서비스
    - 세션연결설정, 해제
    - 세션 메시지 전송
- 동기기능
    - 통신 양단끼리 서로 동의하는 논리적 공통시점 = 동기점 지정
    - 설정이유 ---> 오류 복구를 위해
    - 동기점 설정 이전 = 서로 처리 완료되었음을 합의했다는 의미
    - 동기점 이전과정 ---> 복구 필요X
    - 동기점 이후 ---> 처리과정 복구절차 진행
- 대화
    - 데이터 전송과정
    - 시간경과에 따라 순차적으로 동기점 부여 ---> 신뢰성 보장을 단계적으로 구현
    - 의도적으로 일시정지 ---> 나중에 이어서 작업
- 토큰
    - 통신 양단 대화 관리하기 위한 특수 메시지
    - 토큰 보유 = 해당 토큰에 부여된 특정권리를 배타적으로 소유
    - 종류
        - 데이터토큰 = 데이터 전송 권한
        - 해제토큰 = 통신 양단 사이 연결해제 제어
        - 동기토큰 = 동기 처리가 필요한 시점에 사용
- 동기점
    - 큰 파일 단위보다 논리적으로 작은 단위로 나누어 전송하는 것이 오류 발생 시 유리
    - 동기점 부여
        - 큰 파일을 작은파일로 구분하는 과정
        - 큰 파일 전송과정의 중간중간에 동기점 부여
        - 동기점 부여 = 해당 내용까지는 전송완료
        - 전송과정에 오류 발생 ---> 동기점 이후 과정만 복구하면 됨
    - 동기 토큰 종류
        - 주동기 토큰 = 특정 대화 단위를 구분
        - 부동기 토믄 = 대화 단위를 세분화시켜서 구분
---
### 동기
- 재동기
    - 전송오류 발생 시 동기점을 이용한 일련의 복구과정
    - 동기점은 임의시점, 특정지점에서 복구할 수 있도록 통신 양단간의 합의로 지정
    - 세션 계층 상위에서 (적절한 구간으로 나누어 동기점 지정 + 오류 발생 시 해당지점으로 돌아가 복구) 구현되어야 함
- 주동기점, 부동기점 구분이유
    - 주동기점
        - 주동기점 = 완벽히 처리
        - 주동기점 이전 복구과정 필요X
    - 부동기점
        - 복구에 필요한 백업 정보가 적음 ---> 복구 부담 최소화
        - 오류 복구가 완벽히 이루어지지 않을 수 있음
        - 이전 부동기점에서 복구 불가 ---> 직전 부동기점으로 이동 반복
- 액티비티
    - 논리적 설정단위(내용이 상호 독립적)
    - 독립적 여러파일을 구분하는 목적
    - 주동기점 설정과 동일한 효과
---
### 세션연결 
- 다중 세션 지원하는 서버
    - 1:N = 서버:클라이언트 지원
    - 서비스 시간 짧은 경우 유리
    - 서비스 시간 길어지면 클라이언트 대기시간이 무한정 증가
- 단일 세션 지원하는 서버
    - 1:1 = 서버:클라이언트 지원
    - 대표서버
        - 클라이언트 연결 요청 처리
        - 하위 서버 프로세스 생성
        - well-known포트
    - 단점
        - 클라이언트 개별 요구마다 하나의 프로세스 생성
            - 초기 서비스 환경 구축에 따른 오버헤드 증가
            - 프로세스를 새로 생성, 실행상태로 만드는데 걸리는 시간 소요
    - 각 클라이언트는 독립적으로 서비스 받음
---
---
# ---- 표현계층 ----
- 응용 프로세스 사이에 전송되는 메시지 표현방법 관련
- 전송 메시지에 표현된 문법 애용을 통신 양단 프로세스가 해석하는 기능 제공 ---> 전달하려는 의미를 정확히 이해하도록
- 데이터 표현
    - 추상문법 = 각 컴퓨터에서 사용하는 데이터 표현규칙
    - 전송문법 = 네트워크 전체에서 일관성을 지니는 표현규칙
    - 특정 컴퓨터에 독립적, 네트워크 전체 일관성을 가지는 새로운 표현규칙(전송문법)으로 변화하여 전송
    - 수신 측에서 자신의 컴퓨터에서 이해하는 추상문법 형태로 변화과정 필요
---
### ASN.1
- 분산환경에서 표현되는 데이터 정의를 위한 일반적 추상문법
- 다양한 언어코드 생성하는 컴파일러 有
- 응용계층에서 문법규칙 + PDU 구조 정의
- 지원 클래스 유형
    - universal
        - 일반 데이터
        - 구분
            - 기본 유형
                - 단위
                - 문자열
                - boolean, integer, bistring...
            - 구조유형
                - universal sequence = 순서대로 나열한 임의 유형 모임(고정크기)
                - sequence = 순서대로 나열한 동일유형 모임(고정/가변크기)
                - set = 순서없이 나열한 임의유형 모임(고정크기)
                - setof = 순서없이 나열한 동일유형 모임(고정/가변크기)
                - choice = 미리 정의된 유형모임에서 선택 순서 없는 유형 모임(고정크기)
    - context-specific = 특정 context와 관련
    - application = 응용 개체 공통
    - private = 사용자 정의
- 태그
    - 구조유형에 선언된 변수를 개별적으로 사용하기 위함
    - 배열 인덱스와 유사
    - 정의된 모든 타입들은 태그 지정
    - ASN.1에서 표준으로 지정/ 사용자 지정 가능
    - 선언방법
        - context-specific = 태그 범위 현재구조 한정
        - application = 태그범위 전체 응용 context적용
        - private = 태그 범위 해당사용자에게 적용
- 데이터타입
    - 미리 정의된 타입 소유
    - 사용자는 ASN.1이 제공하는 기본 타입 외에 새로운 정의타입 사용가능
    - 타입 정의 형식 --> < typereference > ::= < type >
    - 타입 이름 반드시 대문자로 시작
    - 대부분 ASN.1에서 미리 정의된 타입 = 대문자로 표기

---
### BER(basic encoding rules)
- 전송데이터가 어떻게 인코딩 되어야 하는지 기술
- 기기특성, 프로그래밍언어, 어플리케이션 표현방법과 독립적
### PER(packed encoding rules)
- 전송데이터가 어떻게 인코딩 되어야 하는지 기술
- 기기특성, 프로그래밍언어, 어플리케이션 표현방법과 독립적
- 기본적으로 태그 전송X
- length, value가 종단간에 이미 약속되어 있다면 전송X
- 전송 시 대역폭을 보다 적게 사용하기 위한 목적
- 대역폭이 중요한 곳이라면 유용(소리, 영상전송 매체)
### XER(XML encoding rules)
- 전송데이터가 어떻게 인코딩 되어야 하는지 기술
- 기기특성, 프로그래밍언어, 어플리케이션 표현방법과 독립적
- 축소된 규칙과 달리 곧바로 읽기 쉬움
- 좀 더 읽기 쉽게 하는데 목적
- 추가 대역푝 필요
- BCN 등 대규모 대역폭 갖는 환경에 적합
---
### 데이터 압축
- 데이터 압축
    - 전송 데이터양을 줄이는 목적
    - 전송속도면에서 유리
        - 원래 데이터 패턴에 영향받음
            - 중복 ∝ 압축률
        - 알고리즘에 따라 압축률 다름
            - 데이터 특성에 맞는 알고리즘 선택
    - 손실압축
        - 압축과정에서 원래 데이터내용 부분적으로 분실
        - 압축 해제과정으로 데이터 100% 복원X
        - 압축 효율을 높이기 위해 사용
    - 비손실압축
        - 압축과정에서 분실X
        - 압축 해제로 데이터 100% 복원
- 데이터 보안(암호화)
    - 전송 데이터 내용을 해석하지 못하도록 하는 목적
---
---
# ---- 응용계층 ----
- 응용계층 하부 기본역할
    - 신뢰성 있는 데이터 전송보장
- 하부계층 서비스 이용 ---> 사용자에게 편리한 응용환경 제공
- 사용자 프로그램 환경 구현
- 운영체제에서 제공하는 계층4 인터페이스 사용하여 통신기능 구현
- 필요에 따라 세션, 표현 계층 기능 포함
---
### 클라이언트-서버모델
- 서버가 반드시 먼저 대기상태
- 클라이언트가 서버에게 연결요청 시도
- 연결형
    - TCP
        - 속도 빠름
        - 신뢰성문제
- 비연결형
    - UDP
        - 신뢰성 높음
        - 속도 느림
- 상태정보
    - 상태
        - 특정 상황에 대해 통신 양단이 바라보는 관점
    - 복구 = 오류발생 시 서로 합의할 수 있는 상태로 되돌아가는 과정
    - 비상태 서비스
        - 상태 X ---> 복구 간단
        - ex) 파일 공유 서비스
        - 파일전송 요청마다 파일이름, 위치, 크기 포함
        - 안정적인 서비스 구현 가능
    - 보안강화 환경에서 상태서비스 선호
---
### 동시성제어
- 동시성
    - 임의 여러동작이 외형상 동시에 진행되는 것처럼 보이는 현상
    - 여러 동작 선후 진행속도가 실행결과에 영향X
    - ex) CPU가 장착된 컴퓨터에서 여러 프로세스 실행
- 반복 서비스방식
    - 다중세션 지원하는 서버
- 동시성 서비스방식
    - 여러 클라이언트 동시 지원
    - 단일 세션 지원하는 서버